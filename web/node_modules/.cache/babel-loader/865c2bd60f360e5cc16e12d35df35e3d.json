{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ahmed\\\\Desktop\\\\OrthoDoc\\\\web\\\\src\\\\Pages\\\\DocEdit.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport Sidebar from \"./Sidebar\";\nimport { getDoc, doc, updateDoc } from \"firebase/firestore\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { db, authentication } from '../firebase-config';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst auth = getAuth();\n\nfunction DocEdit() {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newpassword, setnewPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  onAuthStateChanged(auth, user => {\n    const uem = user.email;\n    setEmail(uem);\n  });\n\n  function readData() {\n    // e.preventDefault();\n    console.log(\"Read Data\");\n    const myDoc = doc(db, 'doctors', authentication.currentUser.email);\n    console.log(\"Read Data\"); //snapshot method\n\n    getDoc(myDoc).then(snapshot => {\n      if (snapshot.exists) {\n        setName(snapshot.data().displayName); // setMail(snapshot.data().email);\n\n        setPhone(snapshot.data().phoneNumber); // setPassword(snapshot.data().password);\n      } else {\n        alert(\"No Data Found\");\n      }\n    }).catch(error => {\n      console.error('Error adding document: ', error.message);\n    });\n  }\n\n  ;\n\n  function update(e) {\n    readData();\n    e.preventDefault();\n    console.log(\"In Update\");\n    const myDoc = doc(db, 'doctors', authentication.currentUser.email);\n    console.log(\"Password is\" + authentication.currentUser.password);\n\n    if (newpassword === \"\") {\n      console.log(\"In If Statememnt\");\n      setnewPassword(password);\n      console.log(\"Passcode \" + password);\n      console.log(\"Passcode \" + newpassword);\n    }\n\n    const data = {\n      \"displayName\": name,\n      // \"password\":newpassword,\n      \"phoneNumber\": phone\n    };\n    updateDoc(myDoc, data).then(() => {\n      alert(\"Update Successfull\");\n    }).catch(error => {\n      console.error('Error adding document: ', error.message);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Sidebar, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onLoadStart: readData,\n        className: \"profile-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-heading\",\n          children: \" Profile Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sub-main\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: update,\n            children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 54\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: name,\n                  onChange: e => setName(e.target.value),\n                  type: \"name\",\n                  className: \"input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: email,\n                  onChange: e => setEmail(e.target.value),\n                  type: \"email\",\n                  className: \"input\",\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Phone Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: phone,\n                  onChange: e => setPhone(e.target.value),\n                  type: \"phone\",\n                  className: \"input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/Profile\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"update-button\",\n                    onClick: update,\n                    children: \"Update your profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(DocEdit, \"FgnGzJjFksGKrzBv4fmq/H6ZmR4=\");\n\n_c = DocEdit;\nexport default DocEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"DocEdit\");","map":{"version":3,"sources":["C:/Users/Ahmed/Desktop/OrthoDoc/web/src/Pages/DocEdit.js"],"names":["React","useState","useEffect","Form","Link","Sidebar","getDoc","doc","updateDoc","getAuth","onAuthStateChanged","db","authentication","useNavigate","auth","DocEdit","name","setName","email","setEmail","password","setPassword","newpassword","setnewPassword","phone","setPhone","state","setState","user","uem","readData","console","log","myDoc","currentUser","then","snapshot","exists","data","displayName","phoneNumber","alert","catch","error","message","update","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {useState, useEffect} from 'react';\r\nimport { Form } from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport Sidebar from \"./Sidebar\";\r\nimport { getDoc, doc, updateDoc } from \"firebase/firestore\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { db, authentication } from '../firebase-config';\r\nimport {useNavigate} from \"react-router-dom\"\r\nconst auth = getAuth();\r\nfunction DocEdit (){ \r\n\r\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const [newpassword, setnewPassword] = useState(\"\");\r\n   const [phone, setPhone] = useState(\"\");\r\n   const[state,setState]=useState(\"\");\r\n\r\n   onAuthStateChanged(auth, (user) => {\r\n     \r\n    const uem = user.email;\r\n    setEmail(uem);    \r\n    \r\n}\r\n);\r\n\r\n function readData  () {\r\n\r\n  // e.preventDefault();\r\n  console.log(\"Read Data\");\r\n\r\n  const myDoc= doc(db, 'doctors',authentication.currentUser.email);\r\n  console.log(\"Read Data\");\r\n    //snapshot method\r\n      getDoc(myDoc).then((snapshot) => {\r\n        if(snapshot.exists){\r\n          setName(snapshot.data().displayName);\r\n\r\n          // setMail(snapshot.data().email);\r\n          setPhone(snapshot.data().phoneNumber);\r\n          // setPassword(snapshot.data().password);\r\n  \r\n        }\r\n        else{\r\n          alert(\"No Data Found\");\r\n        }\r\n  \r\n      }).catch((error) => {\r\n        console.error('Error adding document: ', error.message);\r\n      })\r\n    };\r\n\r\n    function update(e) {\r\n        readData();\r\n      e.preventDefault();\r\n      console.log(\"In Update\");\r\n      const myDoc= doc(db, 'doctors',authentication.currentUser.email);\r\n      console.log(\"Password is\"+ authentication.currentUser.password);\r\n      if(newpassword===\"\"){\r\n        console.log(\"In If Statememnt\");\r\n        setnewPassword(password);\r\n        console.log(\"Passcode \"+password)\r\n        console.log(\"Passcode \"+newpassword)\r\n      }\r\n      const data={\r\n        \"displayName\":name,\r\n        // \"password\":newpassword,\r\n        \"phoneNumber\":phone,\r\n      }\r\n      updateDoc(myDoc,data).then(() => {\r\n          alert(\"Update Successfull\");\r\n  \r\n    \r\n        }).catch((error) => {\r\n          console.error('Error adding document: ', error.message);\r\n          \r\n        })\r\n      \r\n    }\r\n  \r\n   return(< >\r\n    <Sidebar>\r\n\r\n   <div onLoadStart={readData} className='profile-main'>\r\n    <div className=\"profile-heading\"> Profile Settings</div> \r\n    <div className='sub-main'>\r\n    <Form  onSubmit={update}>  \r\n\r\n    <fieldset>     \r\n              <div className='form'>\r\n              \r\n                <label className='label'>Name</label><br></br>\r\n                \r\n                <input\r\n                  value={name}\r\n                  onChange={e => setName(e.target.value)}\r\n                  type='name'\r\n                  className=\"input\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className='form'>\r\n                <label className='label'>Email address</label>\r\n                <input \r\n                  value={email}\r\n                  onChange={e => setEmail(e.target.value)}\r\n                  type='email'\r\n                  className='input'\r\n                  disabled\r\n                />\r\n              </div>\r\n              {/* <div className='form'>\r\n                <label className='label'>Password</label>\r\n                <input\r\n                  value={newpassword}\r\n                  onChange={e => setnewPassword(e.target.value)}\r\n                  type='password'\r\n                  className='input'\r\n                  required\r\n                />\r\n              </div> */}\r\n              <div className='form'>\r\n                <label className='label'>Phone Number</label>\r\n                <input\r\n                  value={phone}\r\n                  onChange={e => setPhone(e.target.value)}\r\n                  type='phone'\r\n                  className='input'\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n              <Link to='/Profile'>\r\n              <button type='submit' className='update-button' onClick={update}>\r\n                Update your profile\r\n              </button></Link></div>\r\n           </fieldset>\r\n          </Form>\r\n          </div>\r\n   </div></Sidebar></>\r\n\r\n   )\r\n}\r\n \r\nexport default DocEdit\r\n"]},"metadata":{},"sourceType":"module"}